<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        @font-face {
            font-family: "PingFang SC";
            src: local("PingFang SC"), sans-serif;
        }
        body {
            font-family: "PingFang SC", sans-serif;
            margin: 0;
            padding: 15px;
            background: transparent;
        }
        .container {
            width: 340px;
            background: #fff;
            border: 1px solid #000;
            padding: 25px;
            box-sizing: border-box;
        }
        .time-display {
            font-size: 60px;
            font-weight: 500;
            color: #000;
            margin-bottom: 30px;
            text-align: center;
            letter-spacing: -1px;
        }
        .progress-section {
            margin-bottom: 25px;
            position: relative;
        }
        .progress-label {
            font-size: 14px; /* 与百分比保持相同大小 */
            color: #000;
            margin-bottom: 8px;
            font-weight: 500;
            display: inline-block; /* 确保标签和百分比在同一行 */
        }
        .progress-bar {
            width: 100%;
            height: 6px;
            background: #f0f0f0;
            border-radius: 3px; /* 进度条边角改为圆形 */
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: #000;
            transition: width 0.5s ease;
            border-radius: 3px; /* 填充部分同样圆角 */
        }
        .progress-percent {
            font-size: 14px;
            color: #000;
            position: absolute;
            top: 0;
            right: 0;
        }
    </style>
    <title>时间进度</title>
</head>
<body>
    <div class="container">
        <div class="time-display" id="time">--:--:--</div>
        
        <div class="progress-section">
            <div class="progress-label" id="year-label">2025年</div>
            <div class="progress-percent" id="year-percent">0%</div>
            <div class="progress-bar">
                <div class="progress-fill" id="year-progress"></div>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="progress-label" id="month-label">8月8日</div>
            <div class="progress-percent" id="month-percent">0%</div>
            <div class="progress-bar">
                <div class="progress-fill" id="month-progress"></div>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="progress-label" id="week-label">第32周</div>
            <div class="progress-percent" id="week-percent">0%</div>
            <div class="progress-bar">
                <div class="progress-fill" id="week-progress"></div>
            </div>
        </div>
    </div>

    <script>
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            document.getElementById('time').textContent = `${hours}:${minutes}:${seconds}`;
        }
        
        function updateYearProgress() {
            const now = new Date();
            const year = now.getFullYear();
            const startOfYear = new Date(year, 0, 1);
            const endOfYear = new Date(year, 11, 31);
            
            const totalDays = Math.ceil((endOfYear - startOfYear) / (1000 * 60 * 60 * 24)) + 1;
            const daysPassed = Math.ceil((now - startOfYear) / (1000 * 60 * 60 * 24)) + 1;
            const percentage = (daysPassed / totalDays) * 100;
            
            document.getElementById('year-progress').style.width = `${percentage}%`;
            document.getElementById('year-percent').textContent = `${percentage.toFixed(1)}%`;
            document.getElementById('year-label').textContent = `${year}年`;
        }
        
        function updateMonthProgress() {
            const now = new Date();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            const year = now.getFullYear();
            const daysInMonth = new Date(year, month, 0).getDate();
            const percentage = (day / daysInMonth) * 100;
            
            document.getElementById('month-label').textContent = `${month}月${day}日`;
            document.getElementById('month-progress').style.width = `${percentage}%`;
            document.getElementById('month-percent').textContent = `${percentage.toFixed(1)}%`;
        }
        
        function getWeekNumber(date) {
            const firstDayOfYear = new Date(date.getFullYear(), 0, 1);
            const pastDaysOfYear = (date - firstDayOfYear) / 86400000;
            const firstDayOfWeek = firstDayOfYear.getDay() || 7;
            const dayOfYear = pastDaysOfYear + 1;
            const weekNumber = Math.ceil((dayOfYear + firstDayOfWeek - 2) / 7);
            return weekNumber;
        }
        
        function updateWeekProgress() {
            const now = new Date();
            let dayOfWeek = now.getDay();
            dayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
            
            const weekNumber = getWeekNumber(now);
            const percentage = (dayOfWeek / 7) * 100;
            
            document.getElementById('week-label').textContent = `第${weekNumber}周`;
            document.getElementById('week-progress').style.width = `${percentage}%`;
            document.getElementById('week-percent').textContent = `${percentage.toFixed(1)}%`;
        }
        
        updateTime();
        updateYearProgress();
        updateMonthProgress();
        updateWeekProgress();
        
        setInterval(updateTime, 1000);
        setInterval(updateYearProgress, 60000);
        setInterval(updateMonthProgress, 60000);
        setInterval(updateWeekProgress, 60000);
    </script>
</body>
</html>
